---
title: 04. docker 이미지 빌드 및 배포
date: 2019-07-09 12:07:13
category: docker
---

이번 포스팅에서는 Dockerfile 을 작성하여 이미지를 빌드하고 배포하고 실행까지 해보겠다. 사용할 베이스 이미지는 가장 만만한 __ubuntu__ 다.

아래 명령어를 수행하여 디렉토리를 만들고 
```sh
mkdir my-nodejs
cp app.js my-nodejs/.
cd my-nodejs
```

`vi Dockerfile` 명령어로 Dockerfile 을 작성한다.
```sh
# Dockerfile
FROM node:10

COPY app.js /app.js

CMD ["node", "/app.js"]
```


```sh
$ docker build -t <USERNAME>/<IMAGE_NAME>:<TAG>
```

```sh
$ docker push <IMAGE_NAME>
```


<div>
    <h2> Dockerfile 에 정의할 수 있는 인스트럭션 </h2>
    <table>
        <thead>
            <tr>
                <th>instruction</th>
                <th>description</th>
                <th>example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>FROM</strong></td>
                <td>기본이 될 이미지 이름을 지정</td>
                <td><code>FROM ubuntu:14.04</code></td>
            </tr>
            <tr>
                <td><strong>RUN</strong></td>
                <td>기본이 될 이미지 이름을 지정</td>
                <td><code>FROM ubuntu:14.04</code></td>
            </tr>
            <tr>
                <td><strong>COPY</strong></td>
                <td>기본이 될 이미지 이름을 지정</td>
                <td>FROM ubuntu:14.04</td>
            </tr>
            <tr>
                <td><strong>ADD</strong></td>
                <td>기본이 될 이미지 이름을 지정</td>
                <td>FROM ubuntu:14.04</td>
            </tr>
            <tr>
                <td><strong>CMD</strong></td>
                <td>기본이 될 이미지 이름을 지정</td>
                <td>FROM ubuntu:14.04</td>
            </tr>
        </tbody>
    </table>
</div>
